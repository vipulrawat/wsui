(this.webpackJsonpstocks=this.webpackJsonpstocks||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a(3),c=a(4),s=a(0),o=a.n(s),u={hasOpened:!1,hasError:!1,data:[]},l=Object(s.createContext)({state:u,dispatch:function(){}}),i=function(e,t){switch(t.type){case"DATA":var a=t.payload,s=e.data,o=[];return a.forEach((function(e){var t=Object(c.a)(e,2),a=t[0],r=t[1],n=parseFloat(r),u=-1;if(s.length&&(u=s.findIndex((function(e){return e.name===a}))),u>-1){var l=s[u].price,i="NEUTRAL";l>n?i="UP":l<n&&(i="DOWN"),s[u]={name:a,price:n,status:i,updatedAt:(new Date).toString()}}else o.push({name:a,price:n,status:"NEUTRAL",updatedAt:(new Date).toString()})})),Object(n.a)({},e,{data:[].concat(Object(r.a)(s),o)});case"ERROR":return Object(n.a)({},e,{hasError:!0});case"TOGGLE_CONN_STATUS":var u=e.hasOpened;return Object(n.a)({},e,{hasOpened:!u});default:return e}},d=function(e){var t=Object(s.useReducer)(i,u),a=Object(c.a)(t,2),r=a[0],n=a[1];return o.a.createElement(l.Provider,Object.assign({value:{state:r,dispatch:n}},e))};function m(){var e=Object(s.useContext)(l);if(void 0===e)throw new Error("useStocks must be used within a StocksProvider");return e}var p=a(6),b=a.n(p),f=function(){return o.a.createElement("div",{className:"p-5"},o.a.createElement("p",{className:"text-red-700 text-sm font-bold"},"Something Went Wrong!"))},g=a(7),E=function(){var e=m().state,t=Object(s.useMemo)((function(){return e.data}),[e]),a=Object(s.useMemo)((function(){return[{Header:"name",accessor:"name"},{Header:"price",accessor:"price"},{Header:"status",accessor:"status"},{Header:"time",accessor:"updatedAt"}]}),[]),r=Object(g.useTable)({columns:a,data:t}),n=r.getTableProps,c=r.getTableBodyProps,u=r.headerGroups,l=r.rows,i=r.prepareRow;return t.length?o.a.createElement("div",{className:"align-middle inline-block min-w-full shadow overflow-hidden sm:rounded-lg border-b border-gray-200"},o.a.createElement("table",Object.assign({},n(),{className:"shadow-lg bg-white min-w-full"}),o.a.createElement("thead",null,u.map((function(e){return o.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return o.a.createElement("th",Object.assign({},e.getHeaderProps(),{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-700 uppercase tracking-wider"}),e.render("Header"))})))}))),o.a.createElement("tbody",Object.assign({},c(),{className:"bg-white"}),l.map((function(e){return i(e),o.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){var t="";return"UP"===e.value?t="bg-green-400":"DOWN"===e.value&&(t="bg-red-400"),o.a.createElement("td",Object.assign({},e.getCellProps(),{className:"px-6 py-4 whitespace-no-wrap border-b border-gray-200 border px-8 py-2 text-sm ".concat(t)}),e.render("Cell"))})))}))))):o.a.createElement("div",{className:"text-indigo-600"},"Loading")},O=(a(17),function(){var e=m(),t=e.state,a=e.dispatch,r=Object(s.useRef)(new WebSocket("wss://stocks.mnet.website"));return Object(s.useEffect)((function(){r.current.onopen=function(){a({type:"TOGGLE_CONN_STATUS"})},r.current.onclose=function(){a({type:"TOGGLE_CONN_STATUS"})},r.current.onerror=function(e){console.log(e),a({type:"ERROR"})},r.current.onmessage=function(e){a({type:"DATA",payload:JSON.parse(e.data)})}})),Object(s.useEffect)((function(){return function(){return r.current.close()}}),[r]),o.a.createElement("div",{className:"w-full h-screen bg-gray-100 flex overflow:hidden"},o.a.createElement("div",{className:"m-auto"},t.hasError?o.a.createElement(f,null):o.a.createElement(E,null)))});b.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d,null,o.a.createElement(O,null))),document.getElementById("root"))},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.8adb6baa.chunk.js.map